<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>The Green Shoes Manual // Events</title><script type="text/javascript" src="static/code_highlighter.js"></script><script type="text/javascript" src="static/code_highlighter_ruby.js"></script><style type="text/css">@import 'static/manual.css';</style></head><body><div id="main"><div id="manual"><h2>The Green Shoes Manual 1.1.357</h2><h1>Events</h1><div class="intro"><p>どのようにしてマウスのクリックを離したことやキーボードをタイプしたことが分かるか 不思議に思いませんか？スロットの内部でマウスが動いたときはいつでもイベントが スロットに送られます。また、キーが押されたときはいつでも。 スロットが作成されたり破壊されたときでさえ。それぞれのそれらのイベントをブロックを 取り付けることができます。</p></div><p>マウスイベントは<code>motion</code>、<code>click</code>、<code>hover</code>そして<code>leave</code>を含みます。 キーボードのタイピングは<code>keypress</code>イベントによって表されます。 そして<code>start</code>や<code>finish</code>イベントはキャンバスを開始するときや破棄されたときを指し示します。</p><p>では、マウスでスロットの上をフロートするときに背景を変更したいとしましょう。 スロットの内部にマウスがくるときに背景を変更するためには<code>hover</code>イベントを使います。 そして、マウスがフロートして離れるときに戻すには<code>leave</code>を使います。</p><pre><code class="rb"> Shoes.app do
   s = stack width: 200, height: 200 do
     background red
   end
   s.hover do
     s.clear { background blue }
   end
   s.leave do
     s.clear { background red }
   end
 end
</code></pre><a name="click{|button,left,top|...}"></a><div class="method"><a href="#click{|button,left,top|...}">click { |button, left, top| ... }</a> » self</div><p>マウスボタンがクリックされたときにはclickブロックが呼ばれます。 <code>button</code>はマウスボタンのどれが押されたかの数です。 <code>left</code>や<code>top</code>はどこがクリックされたかのマウスの座標です。</p><p>マウスのクリックを離した瞬間をとらえるには、<a href="Events.html#release">release</a>イベントを見てください。</p><div class="desc"></div><a name="finish{|self|...}"></a><div class="method"><a href="#finish{|self|...}">finish { |self| ... }</a> » self</div><p>スロットが取り除かれたときは、finishイベントが発生します。 finishブロックはすぐに<code>self</code>を手渡し、スロットオブジェクトは取り除かれます。</p><p><strong>注意:</strong> Green Shoesは<code>finish</code>メソッドをサポートしていません。</p><div class="desc"></div><a name="hover{|self|...}"></a><div class="method"><a href="#hover{|self|...}">hover { |self| ... }</a> » self</div><p>hoverイベントはスロットにマウスが入ったときに発生します。 このブロックは<code>self</code>を手に入れ、どのオブジェクトの上を通ったかを意味します。</p><p>スロットからマウスが出ていくことをとらえるには、<a href="Events.html#leave">leave</a>イベントを確認してください。</p><div class="desc"></div><a name="keypress{|key|...}"></a><div class="method"><a href="#keypress{|key|...}">keypress { |key| ... }</a> » self</div><p>キー（またはキーの組み合わせ）がいつ押されても、そのブロックは呼ばれます。 そのブロックにはキーの性質を表す文字列である<code>key</code>を送られます。</p><p>そして、例えば、<code>Shift-a</code>が押されたなら、そのブロックは<code>&quot;A&quot;</code>の文字列を得ます。 また、F1が押されたなら、 <code>F1</code>の文字列を受けとります。</p><p><code>&quot;Control_L&quot;</code>, <code>&quot;Shift_L&quot;</code>, <code>&quot;Alt_L&quot;</code>は左サイドに位置する修飾キーです。 もし<code>Shift-Control-Alt-PgUp</code>が押されたなら、得られる文字列は、以下の順番で現れます:  <code>&quot;Shift_L&quot;</code>, <code>&quot;Control_L&quot;</code>, <code>&quot;Alt_L&quot;</code>, <code>&quot;Page_Up&quot;</code></p><p>シフトキーについて１つ。USキーボードでは、<code>Shift-7</code>はアンパサンド（&amp;）です。 そのため、<code>&quot;Shift_L&quot;</code>と<code>&quot;7&quot;</code>ではなく、<code>&quot;Shift_L&quot;</code>と<code>&quot;ampersand&quot;</code>を得ます。 そして、そのようなキーボードで<code>Shift-Alt-7</code>を押したら、<code>&quot;Shift_L&quot;</code>と<code>&quot;Alt_L&quot;</code>と <code>&quot;ampersand&quot;</code>という文字列を得るでしょう。</p><pre><code class="rb"> Shoes.app do
   info = para "NO KEY is PRESSED."
   keypress do |k|
     info.replace "#{k.inspect} was PRESSED."
   end
 end
</code></pre><div class="desc"></div><a name="leave{|self|...}"></a><div class="method"><a href="#leave{|self|...}">leave { |self| ... }</a> » self</div><p>スロットからマウスカーソルが出て行くときleaveイベントが発生します。 その瞬間すでにマウスカーソルはスロットの端の中にはありません。 leaveイベントが発生するとき、<code>self</code>とともにブロックが呼ばれ、そのスロットオブジェクトは 取り残されます。</p><p>スロットにマウスが入ることを見つけたいなら<a href="Events.html#hover">hover</a>も見てください。</p><div class="desc"></div><a name="motion{|left,top|...}"></a><div class="method"><a href="#motion{|left,top|...}">motion { |left, top| ... }</a> » self</div><p>マウスがスロットの内部を移動するたびにモーションのブロックは呼ばれます。 ブロックはカーソルの<code>left</code>や<code>top</code>の座標を渡します。</p><pre><code class="rb"> Shoes.app width: 200, height: 200 do
   background black
   fill white
   circ = oval 0, 0, 100, 100
   motion do |top, left|
     circ.move top - 50, left - 50
   end
 end
</code></pre><div class="desc"></div><a name="release{|button,left,top|...}"></a><div class="method"><a href="#release{|button,left,top|...}">release { |button, left, top| ... }</a> » self</div><p>マウスがアンクリック（マウスアップ）のときにreleaseのブロックは実行されます。 それは指が持ち上げられたときです。<code>button</code>は押し下げられたボタンに対応する数です。 <code>left</code>や<code>top</code>はボタンが離されたときのマウスのの座標です。</p><p>実際のマウスクリックを捕まえるには、<a href="Events.html#click">click</a>イベントを利用してください。</p><div class="desc"></div><a name="start{|self|...}"></a><div class="method"><a href="#start{|self|...}">start { |self| ... }</a> » self</div><p>初めてスロットが描かれるとき、スタート（start）イベントが実行されます。 まさに今描かれたスロットオブジェクトが<code>self</code>としてブロックに渡されます。</p><p><strong>注意:</strong> Green Shoesは<code>start</code>メソッドをサポートしていません。</p><div class="desc"></div><p class="next">Next: <a href="Manipulation.html">Manipulation Blocks</a></p></div><div class="sidebar"><img src="static/gshoes-icon.png"></img><ul><li><a href="./" class="prime">HELP</a></li><li><a href="Hello!.html">Hello!</a></li><li><a href="Shoes.html">Shoes</a></li><li><a href="Slots.html">Slots</a></li><li><ul class="sub"><li><a href="Art.html">Art</a></li><li><a href="Element.html">Element</a></li><li><a href="Events.html">Events</a></li><li><a href="Manipulation.html">Manipulation</a></li><li><a href="Position.html">Position</a></li><li><a href="Traversing.html">Traversing</a></li></ul></li><li><a href="Elements.html">Elements</a></li><li><a href="AndSoForth.html">AndSoForth</a></li></ul></div></div></body></html>
