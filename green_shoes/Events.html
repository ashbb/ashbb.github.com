<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>The Green Shoes Manual // Events</title><script type="text/javascript" src="static/code_highlighter.js"></script><script type="text/javascript" src="static/code_highlighter_ruby.js"></script><style type="text/css">@import 'static/manual.css';</style></head><body><div id="main"><div id="manual"><h2>The Green Shoes Manual 1.1.354</h2><h1>Events</h1><div class="intro"><p>Wondering how to catch stray mouse clicks or keyboard typing?  Events are sent to a slot whenever a mouse moves inside the slot.  Or whenever a key is pressed.  Even when the slot is created or destroyed.  You can attach a block to each of these events.</p></div><p>Mouse events include <code>motion</code>, <code>click</code>, <code>release</code>, <code>hover</code> and <code>leave</code>.  Keyboard typing is represented by the <code>keypress</code> event.  And the <code>start</code> and <code>finish</code> events indicate when a canvas comes into play or is discarded.</p><p>So, let's say you want to change the background of a slot whenever the mouse floats over it.  We can use the <code>hover</code> event to change the background when the mouse comes inside the slot.  And <code>leave</code> to change back when the mouse floats away.</p><pre><code class="rb"> Shoes.app do
   s = stack width: 200, height: 200 do
     background red
   end
   s.hover do
     s.clear { background blue }
   end
   s.leave do
     s.clear { background red }
   end
 end
</code></pre><a name="click{|button,left,top|...}"></a><div class="method"><a href="#click{|button,left,top|...}">click { |button, left, top| ... }</a> » self</div><p>The click block is called when a mouse button is clicked.  The <code>button</code> is the number of the mouse button which has been pressed.  The <code>left</code> and <code>top</code> are the mouse coordinates at which the click happened.</p><p>To catch the moment when the mouse is unclicked, see the <a href="Events.html#release">release</a> event.</p><div class="desc"></div><a name="finish{|self|...}"></a><div class="method"><a href="#finish{|self|...}">finish { |self| ... }</a> » self</div><p>When a slot is removed, it's finish event occurs.  The finish block is immediately handed <code>self</code>, the slot object which has been removed.</p><p><strong>Note:</strong> Green Shoes doesn't support <code>finish</code> method.</p><div class="desc"></div><a name="hover{|self|...}"></a><div class="method"><a href="#hover{|self|...}">hover { |self| ... }</a> » self</div><p>The hover event happens when the mouse enters the slot.  The block gets <code>self</code>, meaning the object which was hovered over.</p><p>To catch the mouse exiting the slot, check out the <a href="Events.html#leave">leave</a> event.</p><div class="desc"></div><a name="keypress{|key|...}"></a><div class="method"><a href="#keypress{|key|...}">keypress { |key| ... }</a> » self</div><p>Whenever a key (or combination of keys) is pressed, the block gets called.  The block is sent a <code>key</code> which is a string representing the character (such as the letter or number) on the key. </p><p>So, for example, if <code>Shift-a</code> is pressed, the block will get the string <code>&quot;Shift_L&quot;</code> and <code>&quot;A&quot;</code>.</p><p>And if the <code>F1</code> key is pressed, the <code>&quot;F1&quot;</code> string is received. </p><p>The left side modifier keys are <code>&quot;Control_L&quot;</code>, <code>&quot;Shift_L&quot;</code> and <code>&quot;Alt_L&quot;</code>.  They appear in that order. If <code>Shift-Control-Alt-PgUp</code> is pressed, the strings will be <code>&quot;Shift_L&quot;</code>, <code>&quot;Control_L&quot;</code>, <code>&quot;Alt_L&quot;</code> and <code>&quot;Page_Up&quot;</code>.</p><p>One thing about the shift key.  On US keyboards, <code>Shift-7</code> is an ampersand.  So you'll get the string <code>&quot;Shift_L&quot;</code> and <code>&quot;ampersand&quot;</code> rather than <code>&quot;Shift_L&quot;</code> and <code>&quot;7&quot;</code>.  And, if you press <code>Shift-Alt-7</code> on such a keyboard, you'll get the strings: <code>&quot;Shift_L&quot;</code>, <code>&quot;Alt_L&quot;</code> and <code>&quot;ampersand&quot;</code>.  </p><pre><code class="rb"> Shoes.app do
   info = para "NO KEY is PRESSED."
   keypress do |k|
     info.replace "#{k.inspect} was PRESSED."
   end
 end
</code></pre><p> </p><div class="desc"></div><a name="leave{|self|...}"></a><div class="method"><a href="#leave{|self|...}">leave { |self| ... }</a> » self</div><p>The leave event takes place when the mouse cursor exits a slot.  The moment it no longer is inside the slot's edges.  When that takes place, the block is called with <code>self</code>, the slot object which is being left.</p><p>Also see <a href="Events.html#hover">hover</a> if you'd like to detect the mouse entering a slot.</p><div class="desc"></div><a name="motion{|left,top|...}"></a><div class="method"><a href="#motion{|left,top|...}">motion { |left, top| ... }</a> » self</div><p>The motion block gets called every time the mouse moves around inside the slot. The block is handed the cursor's <code>left</code> and <code>top</code> coordinates.</p><pre><code class="rb"> Shoes.app width: 200, height: 200 do
   background black
   fill white
   circ = oval 0, 0, 100, 100
   motion do |top, left|
     circ.move top - 50, left - 50
   end
 end
</code></pre><div class="desc"></div><a name="release{|button,left,top|...}"></a><div class="method"><a href="#release{|button,left,top|...}">release { |button, left, top| ... }</a> » self</div><p>The release block runs whenever the mouse is unclicked (on mouse up).  When the finger is lifted.  The <code>button</code> is the number of the button that was depressed. The <code>left</code> and <code>top</code> are the coordinates of the mouse at the time the button was released.</p><p>To catch the actual mouse click, use the <a href="Events.html#click">click</a> event.</p><div class="desc"></div><a name="start{|self|...}"></a><div class="method"><a href="#start{|self|...}">start { |self| ... }</a> » self</div><p>The first time the slot is drawn, the start event fires.  The block is handed <code>self</code>, the slot object which has just been drawn.</p><p><strong>Note:</strong> Green Shoes doesn't support <code>start</code> method.</p><div class="desc"></div><p class="next">Next: <a href="Manipulation.html">Manipulation Blocks</a></p></div><div class="sidebar"><img src="static/gshoes-icon.png"></img><ul><li><a href="./" class="prime">HELP</a></li><li><a href="Hello!.html">Hello!</a></li><li><a href="Shoes.html">Shoes</a></li><li><a href="Slots.html">Slots</a></li><li><ul class="sub"><li><a href="Art.html">Art</a></li><li><a href="Element.html">Element</a></li><li><a href="Events.html">Events</a></li><li><a href="Manipulation.html">Manipulation</a></li><li><a href="Position.html">Position</a></li><li><a href="Traversing.html">Traversing</a></li></ul></li><li><a href="Elements.html">Elements</a></li><li><a href="AndSoForth.html">AndSoForth</a></li></ul></div></div></body></html>
